
require-macros:
   "../src/struct" ->
      struct
   earl-mocha ->
      describe, it, before, after, before-each, after-each
      xdescribe, xit
      assert, asserts
      expect-error

require:
   "../src/index" ->
      identify
      make-struct, read-proxy, write-proxy
      fork, directory, Directory
      patch, changed-relevantly, intersect
      clobber
      ID, FORKID
   "./people" ->
      alice, bob, clara, donald
      aid, bid, cid, did


describe "structs":

   it "store information":
      assert alice.name == .alice
      assert clara.age == 20
      assert clara.mother.name == .alice
      assert clara.father.name == .bob

   it "are immutable":
      expect-error Error:
         alice.name = .balice
      expect-error Error:
         clara.mother.name = .balice

   it "can have methods":
      assert alice.say-name{} == "My name is alice!"
      assert bob.say-name{} == "My name is bob!"

   it "cannot be mutated through methods":
      expect-error Error:
         alice.get-older{}

